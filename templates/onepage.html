{% extends "base.html" %}

{% block title %}Alan Szuster - Portfolio{% endblock %}

{% block content %}
{% include "partials/hero.html" %}
{% include "partials/what-i-do.html" %}
{% include "partials/about.html" %}
{% include "partials/skills.html" %}
{% include "partials/contact.html" %}
{% include "partials/ai-feature.html" %}
<div class="container px-4">
    <div class="row gx-5 justify-content-center">
        <div class="col-lg-8">
            <div class="text-center mb-5">
                <h2 class="fw-bold">AI/ML Capabilities</h2>
                <hr class="divider" />
            </div>
            <div class="ai-interactive-demo p-4 rounded shadow-sm">
                <h3 class="h4 mb-3">Interactive AI Assistant</h3>
                <p>Chat with a simulated AI assistant that can answer questions about SRE, cloud technologies, and
                    more:</p>

                <div class="chat-container mb-4">
                    <div id="chat-messages" class="chat-messages mb-3 p-3">
                        <div class="message ai-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-text">Hello! I'm your AI assistant. I can help answer questions
                                    about Site Reliability Engineering, cloud platforms, DevOps practices, and more.
                                    What would you like to know?</div>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-container d-flex">
                        <input type="text" id="chat-input" class="form-control"
                            placeholder="Ask something about SRE, DevOps, or cloud tech..." />
                        <button id="send-message" class="btn btn-primary ms-2">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>

                    <div class="chat-suggestions mt-3">
                        <span class="suggestion-chip" data-query="What is SRE?">What is SRE?</span>
                        <span class="suggestion-chip" data-query="Explain Kubernetes">Explain Kubernetes</span>
                        <span class="suggestion-chip" data-query="DevOps best practices">DevOps best
                            practices</span>
                        <span class="suggestion-chip" data-query="Cloud monitoring tools">Cloud monitoring</span>
                    </div>
                </div>

                <div class="ai-demo-info small text-muted mt-4">
                    <i class="fas fa-info-circle"></i> This is a simulated AI assistant powered by JavaScript. In a
                    real application, this would be connected to an actual AI model through an API.
                </div>
            </div>
        </div>
    </div>
</div>
</section>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Smooth scrolling for anchor links
        document.querySelectorAll('.scroll-link').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);

                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            });
        });

        // Contact form validation
        const form = document.getElementById('contactForm');

        if (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                } else {
                    event.preventDefault();
                    alert('Thank you for your message! This is a demo form (no actual message was sent).');
                    form.reset();
                }

                form.classList.add('was-validated');
            });
        }
    });
</script>
{% endblock %}
# Click buttons below to see different examples

def analyze_server_metrics(metrics):
"""Analyze server metrics and return status."""
cpu_usage = metrics.get('cpu_usage', 0)
memory_usage = metrics.get('memory_usage', 0)
disk_usage = metrics.get('disk_usage', 0)

status = 'healthy'
alerts = []

if cpu_usage > 80:
status = 'warning'
alerts.append(f'High CPU usage: {cpu_usage}%')

if memory_usage > 90:
status = 'critical'
alerts.append(f'Critical memory usage: {memory_usage}%')

if disk_usage > 85:
status = 'warning'
alerts.append(f'High disk usage: {disk_usage}%')

return {
'status': status,
'alerts': alerts,
'metrics': metrics
}

# Example usage
server_metrics = {
'cpu_usage': 45,
'memory_usage': 60,
'disk_usage': 72
}

result = analyze_server_metrics(server_metrics)
print(f"Server Status: {result['status']}")
print(f"Metrics: {result['metrics']}")
print(f"Alerts: {result['alerts']}")`;

const aiIntegrationCode = `# AI Integration Example
from transformers import pipeline

def analyze_log_sentiment(log_entries):
"""Use AI to analyze the sentiment in log entries
to identify potential issues."""

# Initialize sentiment analyzer
sentiment_analyzer = pipeline('sentiment-analysis')

# Track issues and their severity
potential_issues = []

for entry in log_entries:
# Analyze sentiment of log message
result = sentiment_analyzer(entry['message'])[0]
sentiment = result['label']
confidence = result['score']

# If negative sentiment with high confidence, flag as potential issue
if sentiment == 'NEGATIVE' and confidence > 0.85:
potential_issues.append({
'timestamp': entry['timestamp'],
'message': entry['message'],
'confidence': confidence,
'severity': 'High' if confidence > 0.95 else 'Medium'
})

return potential_issues

# Example log entries
logs = [
{'timestamp': '2025-07-05T10:15:23', 'message': 'Connection timeout after 30s'},
{'timestamp': '2025-07-05T10:16:45', 'message': 'Database query completed successfully'},
{'timestamp': '2025-07-05T10:17:12', 'message': 'Critical error: out of memory exception'}
]

issues = analyze_log_sentiment(logs)
print(f"Found {len(issues)} potential issues in logs:")
for issue in issues:
print(f"[{issue['severity']}] {issue['timestamp']}: {issue['message']}")`;

const k8sAutomationCode = `# Kubernetes Automation with Python
from kubernetes import client, config

def scale_deployment_based_on_metrics(namespace, deployment_name, metrics):
"""Automatically scale a Kubernetes deployment based on metrics."""
try:
# Load Kubernetes configuration
config.load_kube_config()
apps_v1 = client.AppsV1Api()

# Get current deployment
deployment = apps_v1.read_namespaced_deployment(
name=deployment_name,
namespace=namespace
)

# Current replica count
current_replicas = deployment.spec.replicas
new_replicas = current_replicas # Default to no change

# Scale based on CPU utilization
cpu_utilization = metrics.get('cpu_utilization', 0)
if cpu_utilization > 80:
new_replicas = min(current_replicas + 2, 10) # Scale up, max 10 replicas
print(f"Scaling up due to high CPU utilization ({cpu_utilization}%)")
elif cpu_utilization < 30 and current_replicas> 1:
    new_replicas = max(current_replicas - 1, 1) # Scale down, min 1 replica
    print(f"Scaling down due to low CPU utilization ({cpu_utilization}%)")

    # Update deployment if needed
    if new_replicas != current_replicas:
    deployment.spec.replicas = new_replicas
    apps_v1.patch_namespaced_deployment(
    name=deployment_name,
    namespace=namespace,
    body=deployment
    )
    print(f"Scaled deployment from {current_replicas} to {new_replicas} replicas")
    else:
    print(f"No scaling needed. Current replicas: {current_replicas}")

    return {
    'success': True,
    'previous_replicas': current_replicas,
    'new_replicas': new_replicas
    }

    except Exception as e:
    print(f"Error scaling deployment: {str(e)}")
    return {
    'success': False,
    'error': str(e)
    }

    # Example usage
    metrics = {'cpu_utilization': 85, 'memory_utilization': 60}
    result = scale_deployment_based_on_metrics('production', 'web-app', metrics)
    print(f"Autoscaling result: {result}")`;

    document.getElementById('demo-btn-1').addEventListener('click', function () {
    pythonDemo.textContent = serverAnalysisCode;
    demoOutput.innerHTML = '
    <pre>Server Status: healthy\nMetrics: {\'cpu_usage\': 45, \'memory_usage\': 60, \'disk_usage\': 72}\nAlerts: []</pre>
    ';
    });

    document.getElementById('demo-btn-2').addEventListener('click', function () {
    pythonDemo.textContent = aiIntegrationCode;
    demoOutput.innerHTML = '
    <pre>Found 2 potential issues in logs:\n[High] 2025-07-05T10:17:12: Critical error: out of memory exception\n[Medium] 2025-07-05T10:15:23: Connection timeout after 30s</pre>
    ';
    });

    document.getElementById('demo-btn-3').addEventListener('click', function () {
    pythonDemo.textContent = k8sAutomationCode;
    demoOutput.innerHTML = '
    <pre>Scaling up due to high CPU utilization (85%)\nScaled deployment from 2 to 4 replicas\nAutoscaling result: {\'success\': True, \'previous_replicas\': 2, \'new_replicas\': 4}</pre>
    ';
    });

    document.getElementById('run-code').addEventListener('click', function () {
    demoOutput.classList.add('flash-animation');
    setTimeout(() => {
    demoOutput.classList.remove('flash-animation');
    }, 300);
    });

    // AI Demo functionality
    const analyzeBtn = document.getElementById('analyze-btn');
    const sentimentInput = document.getElementById('sentiment-input');
    const sentimentResult = document.getElementById('sentiment-result');
    const sentimentValue = document.getElementById('sentiment-value');
    const sentimentBar = document.getElementById('sentiment-bar');
    const sentimentExplanation = document.getElementById('sentiment-explanation');

    analyzeBtn.addEventListener('click', function () {
    const text = sentimentInput.value.trim();

    if (!text) {
    alert('Please enter some text to analyze');
    return;
    }

    // Simple mock sentiment analysis
    // In reality, this would call an API
    let sentiment, score, explanation, barColor;

    // Very basic sentiment analysis based on keywords
    const positiveWords = ['good', 'great', 'excellent', 'amazing', 'happy', 'love', 'best'];
    const negativeWords = ['bad', 'terrible', 'awful', 'hate', 'worst', 'sad', 'poor'];

    let positiveScore = 0;
    let negativeScore = 0;

    const words = text.toLowerCase().split(/\W+/);

    words.forEach(word => {
    if (positiveWords.includes(word)) positiveScore++;
    if (negativeWords.includes(word)) negativeScore++;
    });

    if (positiveScore > negativeScore) {
    sentiment = 'Positive';
    score = 50 + (positiveScore * 10);
    barColor = 'bg-success';
    explanation = 'This text has a positive tone, expressing enthusiasm and optimism.';
    } else if (negativeScore > positiveScore) {
    sentiment = 'Negative';
    score = 50 - (negativeScore * 10);
    barColor = 'bg-danger';
    explanation = 'This text has a negative tone, expressing dissatisfaction or concern.';
    } else {
    sentiment = 'Neutral';
    score = 50;
    barColor = 'bg-primary';
    explanation = 'This text has a neutral tone without strong positive or negative sentiment.';
    }

    // Clamp score between 0-100
    score = Math.min(Math.max(score, 0), 100);

    // Update UI
    sentimentValue.textContent = sentiment;
    sentimentValue.className = 'badge ' + barColor;
    sentimentBar.style.width = score + '%';
    sentimentBar.className = 'progress-bar ' + barColor;
    sentimentExplanation.textContent = explanation;

    // Show results
    sentimentResult.style.display = 'block';
    });

    // Contact form validation
    const form = document.getElementById('contactForm');

    if (form) {
    form.addEventListener('submit', function (event) {
    if (!form.checkValidity()) {
    event.preventDefault();
    event.stopPropagation();
    } else {
    event.preventDefault();
    alert('Thank you for your message! This is a demo form (no actual message was sent).');
    form.reset();
    }

    form.classList.add('was-validated');
    });
    }
    });
    </script>
    {% endblock %}
